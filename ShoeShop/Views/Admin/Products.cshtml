@model List<ShoeShop.Models.Product>
@{
ViewBag.Title = "Products";
}

<h1>Management</h1>

<div class="mb-3">
    <a href="@Url.Action("AddProduct")" class="btn btn-success">Add product</a>
</div>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>image</th>
        <th>Name</th>
        <th>Brand</th>
        <th>Category</th>
        <th>Price</th>
        <th>In stock</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var product in Model)
    {
    <tr>
        <td>@product.Id</td>
        <td>
            <div style="width: 50px; height: 50px;">
                <img src="@product.ImageUrl" alt="@product.Name" style="max-width: 100%; max-height: 100%;" />
            </div>
        </td>
        <td>@product.Name</td>
        <td>@product.Brand</td>
        <td>@product.Category</td>
        <td>@product.Price.ToString("C")</td>
        <td>@(product.InStock ? "Yes" : "No")</td>
        <td>
            <a href="@Url.Action("EditProduct", new { id = product.Id })" class="btn btn-primary">Edit</a>
            @using (Html.BeginForm("DeleteProduct", "Admin", FormMethod.Post, new { style = "display: inline;" }))
            {
            @Html.AntiForgeryToken()
            <input type="hidden" name="id" value="@product.Id" />
            <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete?');">Delete</button>
            }
        </td>
    </tr>
    }
    </tbody>
</table>